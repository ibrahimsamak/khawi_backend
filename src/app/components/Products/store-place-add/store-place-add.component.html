<!-- Container-fluid starts-->
<div class="container-fluid">
    <div class="edit-profile">
        <div class="col-lg-12">
            <form class="card">
                <div class="card-header">
                    <h4 class="card-title mb-0">اضافة او تعديل مزودين المربعات</h4>
                    <div class="card-options">
                        <a class="card-options-collapse" [routerLink]="" data-toggle="card-collapse"><i
                                class="fe fe-chevron-up"></i>
                        </a>
                        <a class="card-options-remove" [routerLink]="" data-toggle="card-remove"><i class="fe fe-x"></i>
                        </a>
                    </div>
                </div>
                <div class="card-body">
                    <form #form="ngForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="coupon">مزود الخدمة</label>
                                    <div class="input-group">
                                        <select required name="supplier_id" id="supplier_id" #supplier_id="ngModel"
                                            [(ngModel)]="productDetails.supplier_id" class="form-control"
                                            (change)="changeSupplier($event.target.value)">
                                            <option value="">اختر مزود الخدمة</option>
                                            <option *ngFor="let item of providers" value="{{item._id}}">{{item.name}}
                                            </option>
                                        </select>
                                    </div>
                                    <div *ngIf="(supplier_id.errors && supplier_id.invalid && (supplier_id.dirty || supplier_id.touched))"
                                        class="text text-danger">
                                        الحقل مطلوب
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="coupon">المدينة</label>
                                    <div class="input-group">
                                        <select required name="city_id" id="city_id" #city_id="ngModel"
                                            [(ngModel)]="productDetails.city_id" class="form-control"
                                            (change)="changeCity($event.target.value)">
                                            <option value="">اختر المدينة </option>
                                            <option *ngFor="let item of cities" value="{{item._id}}">{{item.arName}}
                                            </option>
                                        </select>
                                    </div>
                                    <div *ngIf="(city_id.errors && city_id.invalid && (city_id.dirty || city_id.touched))"
                                        class="text text-danger">
                                        الحقل مطلوب
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="coupon">منطقة التوزيع</label>
                                    <div class="input-group">
                                        <select required name="place_id" id="place_id" #place_id="ngModel"
                                            [(ngModel)]="productDetails.place_id" class="form-control"
                                            (change)="changePlace($event.target.value)">
                                            <option value="">اختر منطقة التوزيع </option>
                                            <option *ngFor="let item of places" value="{{item._id}}">{{item.arName}}
                                            </option>
                                        </select>
                                    </div>
                                    <div *ngIf="(place_id.errors && place_id.invalid && (place_id.dirty || place_id.touched))"
                                        class="text text-danger">
                                        الحقل مطلوب
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="form-label">المنطقة المغطاة</label>
                                    <agm-map [zoom]="15" [latitude]="lat" [longitude]="lng" #agmMap [scrollwheel]="true"
                                        [disableDoubleClickZoom]="false" [mapDraggable]="true" [zoomControl]="true"
                                        [mapTypeControl]="true" [mapTypeId]="'hybrid'">

                                    </agm-map>
                                </div>

                            </div>
                        </div>
                    </form>
                </div>
                <div class="card-footer text-right">
                    <button class="btn btn-primary" [class.loader--text]="showLoader"
                        [disabled]="!form.valid || showLoader" (click)="saveProduct()" type="submit">
                        <span>
                            {{ showLoader ? '' : 'حفظ المعلومات'}}
                        </span>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>